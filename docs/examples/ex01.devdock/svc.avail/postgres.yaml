%YAML 1.1
# -*- coding: UTF-8, tab-width: 4 -*-
---

FMT: '3'
FX:
    varSlotMark: '¤'

earlyCfg:
    version: 14
    port: 5432
    user: 'postgres'
    pswd: 'example'

    shm_size_mb: 32
    # ^-- Adjust in case of "ERROR: could not resize shared memory segment".
    #     See the "Caveats" section in https://hub.docker.com/_/postgres .

svc:
    image: 'postgres:¤<cfg.^.version>-alpine'

    volumes:
      - '¤<proj.absdir>@/postgres.data/v¤<cfg.^.version>:/pgdata'

    shm_size: '¤<cfg.^.shm_size_mb>MB'
    # https://docs.docker.com/compose/compose-file/compose-file-v3/#shm_size

    environment:
        # https://hub.docker.com/_/postgres
        PGDATA: '/pgdata'
        POSTGRES_…:
            # DB:  '¤<cfg.postgres.default_db_name>' # defaults to username
            USER:       '¤<cfg.^.user>'
            PASSWORD:   '¤<cfg.^.pswd>'

    lhports:
      - '¤<cfg.^.port>'


...
